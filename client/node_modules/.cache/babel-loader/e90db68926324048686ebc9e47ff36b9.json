{"ast":null,"code":"import _asyncToGenerator from\"/Users/slushieford/Desktop/Works/react-web-blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/slushieford/Desktop/Works/react-web-blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/slushieford/Desktop/Works/react-web-blog/client/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import{createContext,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var AuthContexProvider=function AuthContexProvider(_ref){var children=_ref.children;// eslint-disable-next-line no-undef\nvar _useState=useState(JSON.parse(localStorage.getItem(\"user\")||null)),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(inputs){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/auth/login\",inputs);case 2:res=_context.sent;setCurrentUser(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function login(_x){return _ref2.apply(this,arguments);};}();var logout=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(inputs){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"/auth/logout\");case 2:setCurrentUser(null);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function logout(_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){localStorage.setItem(\"user\",JSON.stringify(currentUser));},[currentUser]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{currentUser:currentUser,login:login,logout:logout},children:children});};","map":{"version":3,"sources":["/Users/slushieford/Desktop/Works/react-web-blog/client/src/context/authContext.js"],"names":["axios","createContext","useEffect","useState","AuthContext","AuthContexProvider","children","JSON","parse","localStorage","getItem","currentUser","setCurrentUser","login","inputs","post","res","data","logout","setItem","stringify"],"mappings":"uaAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,CAAwBC,SAAxB,CAAmCC,QAAnC,KAAmD,OAAnD,C,2CAEA,MAAO,IAAMC,CAAAA,WAAW,cAAGH,aAAa,EAAjC,CAEP,MAAO,IAAMI,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CAChD;AACA,cAAsCH,QAAQ,CAACI,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,GAAgC,IAA3C,CAAD,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,KAAK,2FAAG,iBAAMC,MAAN,gJACQd,CAAAA,KAAK,CAACe,IAAN,CAAW,aAAX,CAA0BD,MAA1B,CADR,QACJE,GADI,eAEVJ,cAAc,CAACI,GAAG,CAACC,IAAL,CAAd,CAFU,sDAAH,kBAALJ,CAAAA,KAAK,6CAAX,CAIA,GAAMK,CAAAA,MAAM,2FAAG,kBAAMJ,MAAN,6IACLd,CAAAA,KAAK,CAACe,IAAN,CAAW,cAAX,CADK,QAEXH,cAAc,CAAC,IAAD,CAAd,CAFW,wDAAH,kBAANM,CAAAA,MAAM,8CAAZ,CAKAhB,SAAS,CAAC,UAAM,CACZO,YAAY,CAACU,OAAb,CAAqB,MAArB,CAA6BZ,IAAI,CAACa,SAAL,CAAeT,WAAf,CAA7B,EACH,CAFQ,CAEN,CAACA,WAAD,CAFM,CAAT,CAIA,mBACI,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAE,CAAEA,WAAW,CAAXA,WAAF,CAAeE,KAAK,CAALA,KAAf,CAAsBK,MAAM,CAANA,MAAtB,CAA7B,UACKZ,QADL,EADJ,CAKH,CAtBM","sourcesContent":["import axios from 'axios'\nimport { createContext, useEffect, useState } from 'react'\n\nexport const AuthContext = createContext()\n\nexport const AuthContexProvider = ({ children }) => {\n    // eslint-disable-next-line no-undef\n    const [currentUser, setCurrentUser] = useState(JSON.parse(localStorage.getItem(\"user\") || null ))\n\n    const login = async(inputs) => {\n        const res = await axios.post(\"/auth/login\", inputs)\n        setCurrentUser(res.data)\n    }\n    const logout = async(inputs) => {\n        await axios.post(\"/auth/logout\")\n        setCurrentUser(null)\n    }\n\n    useEffect(() => {\n        localStorage.setItem(\"user\", JSON.stringify(currentUser))\n    }, [currentUser])\n\n    return (\n        <AuthContext.Provider value={{ currentUser, login, logout }}>\n            {children}\n        </AuthContext.Provider>\n    )\n}"]},"metadata":{},"sourceType":"module"}