{"ast":null,"code":"import _asyncToGenerator from\"/Users/slushieford/Desktop/Works/react-web-blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/slushieford/Desktop/Works/react-web-blog/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/slushieford/Desktop/Works/react-web-blog/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/slushieford/Desktop/Works/react-web-blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/slushieford/Desktop/Works/react-web-blog/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useContext,useState}from'react';import{useNavigate}from'react-router-dom';import{AuthContext}from'../context/authContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({username:'',password:''}),_useState2=_slicedToArray(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setError=_useState4[1];var navigate=useNavigate();var _useContext=useContext(AuthContext),login=_useContext.login;var handleChange=function handleChange(e){setInputs(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return login(inputs);case 4:navigate('/');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(_context.t0.response.data);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"auth\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",placeholder:\"Username\",name:\"username\",onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\",placeholder:\"Password\",name:\"password\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Login\"}),err&&/*#__PURE__*/_jsx(\"p\",{children:err.message}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Don't have an account?\",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register\"})]})]})]});};export default Login;","map":{"version":3,"sources":["/Users/slushieford/Desktop/Works/react-web-blog/client/src/pages/Login.jsx"],"names":["React","useContext","useState","useNavigate","AuthContext","Login","username","password","inputs","setInputs","err","setError","navigate","login","handleChange","e","prev","target","name","value","handleSubmit","preventDefault","response","data","message"],"mappings":"gsBAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,WAAT,KAA4B,wBAA5B,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,cAA4BH,QAAQ,CAAC,CACnCI,QAAQ,CAAE,EADyB,CAEnCC,QAAQ,CAAE,EAFyB,CAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eAIA,eAAuBP,QAAQ,CAAC,IAAD,CAA/B,yCAAOQ,GAAP,eAAWC,QAAX,eAEA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CAEA,gBAAgBF,UAAU,CAACG,WAAD,CAA1B,CAAOS,KAAP,aAAOA,KAAP,CAGF,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACxBN,SAAS,CAAC,SAAAO,IAAI,wCAAOA,IAAP,wBAAcD,CAAC,CAACE,MAAF,CAASC,IAAvB,CAA8BH,CAAC,CAACE,MAAF,CAASE,KAAvC,IAAL,CAAT,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,0FAAG,iBAAML,CAAN,kHACnBA,CAAC,CAACM,cAAF,GADmB,sCAGXR,CAAAA,KAAK,CAACL,MAAD,CAHM,QAIjBI,QAAQ,CAAC,GAAD,CAAR,CAJiB,+EAMjBD,QAAQ,CAAC,YAAIW,QAAJ,CAAaC,IAAd,CAAR,CANiB,oEAAH,kBAAZH,CAAAA,YAAY,4CAAlB,CASE,mBACE,aAAK,SAAS,CAAC,MAAf,wBACA,6BADA,cAEA,qCACE,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,MAArB,CAA4B,WAAW,CAAC,UAAxC,CAAmD,IAAI,CAAC,UAAxD,CAAmE,QAAQ,CAAEN,YAA7E,EADF,cAEE,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,UAArB,CAAgC,WAAW,CAAC,UAA5C,CAAuD,IAAI,CAAC,UAA5D,CAAsE,QAAQ,CAAEA,YAAhF,EAFF,cAGE,eAAQ,OAAO,CAAEM,YAAjB,mBAHF,CAIGV,GAAG,eAAI,mBAAIA,GAAG,CAACc,OAAR,EAJV,cAKE,8DACE,UAAG,IAAI,CAAC,WAAR,sBADF,GALF,GAFA,GADF,CAcD,CAvCD,CAyCA,cAAenB,CAAAA,KAAf","sourcesContent":["import React, { useContext, useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { AuthContext } from '../context/authContext'\n\nconst Login = () => {\n  const [inputs, setInputs] = useState({\n    username: '',\n    password: ''\n  })\n  const [err,setError] = useState(null)\n\n  const navigate = useNavigate()\n\n  const {login} = useContext(AuthContext)\n\n\nconst handleChange = e => {\n  setInputs(prev=>({...prev, [e.target.name]: e.target.value}))\n}\n\nconst handleSubmit = async e => {\n  e.preventDefault()\n  try {\n    await login(inputs)\n    navigate('/')\n  } catch (err) {\n    setError(err.response.data)\n  }\n}\n  return (\n    <div className='auth'>\n    <h1>Login</h1>\n    <form>\n      <input required type='text' placeholder='Username' name='username' onChange={handleChange}/>\n      <input required type='password' placeholder='Password' name='password'onChange={handleChange}/>\n      <button onClick={handleSubmit}>Login</button>\n      {err && <p>{err.message}</p>}\n      <span>Don't have an account?\n        <a href='/register'>Register</a>\n      </span>\n    </form>\n    </div>\n  )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}